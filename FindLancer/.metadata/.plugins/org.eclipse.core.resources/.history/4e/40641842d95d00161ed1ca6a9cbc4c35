package br.com.findlancer.sql;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class LoginDAO {
	
	Connection conexaoDB = Conexao.conectar();

    public int logar(String email,String senha){
    	int idUsuario = 0;
    	String sql ="select idfree from freelancers where email = ? and senha = ?";
		try {
			PreparedStatement statement = conexaoDB.prepareStatement(sql);
			statement.setString(1, email);
			statement.setString(2, senha);
			
			ResultSet resultado = statement.executeQuery();
			
			if(resultado.next()){
				idUsuario=resultado.getInt(1);
			}
			
			System.out.println("Login verificado.");
		} catch (SQLException e) {
			System.out.println("Erro ao verificar login.");
		}
		
		return idUsuario;
    }
	
	
}
