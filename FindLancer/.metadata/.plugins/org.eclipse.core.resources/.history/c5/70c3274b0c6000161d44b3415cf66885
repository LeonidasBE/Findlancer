$(document).ready(function(){
		$("#cat").change(function(){
			selecionandoCombo(this,'subcat');
		});
		
		function selecionandoCombo(combo1,combo2){
			combo2= document.getElementById(combo2);
			limparCombo(combo2);
			if(combo1.options[combo1.selectedIndex].value!= ""){
				combo2.disabled=true; 
				$.ajax({
					url:'ajaxcontroller',
					type:'post',
					datatype:'json',
					data:{valor:combo1.options[combo1.selectedIndex].value},
					success:function(resultado){
						var myObject = eval('('+ resultado + ')');
						metodoCombo(myObject,combo2);
						combo1.disabled=false;
						combo2.disabled=false;
					}
				});
			}
		}
		
		function limparCombo(combo){
			while(combo.length>0){
				combo.remove(combo.length-1);
			} 
		}
		
		function metodoCombo(json,combo){
			combo.options[0]= new Option('Selecione uma subcategoria','');
			for(var i=0;i<json.length;i++){
				combo.options[combo.length] = new Option(json[i]);
			}
		}
		
		
	});